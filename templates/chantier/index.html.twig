{% extends 'base.html.twig' %}

{% block title %}Liste chantiers
{% endblock %}

{% block body %}
	<div>
		<a href="{{path('chantier_create')}}" class="btn btn-success mt-5 mb-3 block">Créer un chantier</a>
	</div>

	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Nom du chantier</th>
				<th scope="col">Adresse</th>
				<th scope="col">Date debut</th>
				<th scope="col">Nombre de personnes pointés</th>
				<th scope="col">Heures cumulés</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>
			{% for chantier in chantiers %}
				<tr class="table-primary">
					<th>{{chantier.name}}</th>
					<td>{{chantier.address}}</td>
					<td>{{chantier.startsAt|date('d-m-y')}}</td>
					<td>{{chantier.pointages|length }}</td>
					<td></td>

					<td>

						<a href="{{path('chantier_edit', {'id': chantier.id})}}" class="btn btn-success"><i class="fa-solid fa-pencil"></i></a>
						<a href="{{path('chantier_show', {'id': chantier.id})}}" class="btn btn-info"><i class="fa-solid fa-eye"></i></a>
						<a href="{{path('chantier_delete', {'id':chantier.id})}}" class="btn btn-danger"><i class="fa-solid fa-trash-can"></i></a>

					</td>

				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
